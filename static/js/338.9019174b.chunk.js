"use strict";(self.webpackChunkregional_water=self.webpackChunkregional_water||[]).push([[338],{7666:function(e,n,r){r.d(n,{Z:function(){return x}});var t=r(1413),a=r(8993),i=r(9439),l=r(5696),o=r(5285),d=(r(9554),r(2791)),s=r(177),u=r(7309),c=r(2166),p=r(184),f=function(e){var n=new Date(e),r=new Intl.DateTimeFormat("fa-IR").format(n).split("/");return"".concat(o.Z.numberConverter(r[0]),"/").concat(o.Z.numberConverter(r[1]),"/").concat(o.Z.numberConverter(r[2]))},m=function(e){var n=e.placeholder,r=e.popupTargetId,a=e.value,m=e.onRemove,x=e.onChange,h=e.endTime,v=e.disabled,g=e.readOnly,j=(0,d.useRef)(null),y=(0,d.useState)((function(){return a?f(a):""})),Z=(0,i.Z)(y,2),w=Z[0],C=Z[1],b=function(){var e;return null===(e=j.current)||void 0===e?void 0:e.focus()};return(0,d.useEffect)((function(){if("undefined"!==typeof a){var e=f(a);(null==a&&null!==w||null===w&&null!==a||e!==w)&&C(e)}}),[a]),(0,p.jsx)(l.p,{showSidebar:!1,inputControl:function(e){return(0,p.jsx)(s.Z,(0,t.Z)({ref:j,readOnly:g,suffix:m&&a?(0,p.jsxs)(u.Z,{type:"link",onClick:function(){return m()},children:[(0,p.jsx)(c.Z,{size:16,name:"IoCloseOutline"})," "]}):(0,p.jsx)(u.Z,{type:"link",onClick:b,children:(0,p.jsx)(c.Z,{size:16,name:"IoCalendarClearOutline"})}),disabled:v,placeholder:n},e))},popupTargetId:r,onChange:function(e){if(e){var n,r=e.split("/"),t=(0,i.Z)(r,3),a=t[0],l=t[1],d=t[2],s=o.Z.convertToDate(parseInt(a),parseInt(l),parseInt(d)),u=h?new Date(s[0],s[1]-1,s[2],23,59,59,0):new Date(s[0],s[1]-1,s[2],0,0,0,0);null===x||void 0===x||x(null!==(n=u.toISOString())&&void 0!==n?n:null)}else null===x||void 0===x||x(null)},value:w})},x=function(e){var n=e.form||a.Z;return(0,p.jsx)(n.Item,{className:"date-picker-form-item",name:e.name,rules:e.rules,label:e.label,children:(0,p.jsx)(m,(0,t.Z)({},e))})}},2509:function(e,n,r){var t=r(1413),a=r(4925),i=r(8993),l=r(7097),o=r(184),d=["form","name","rules","label","stringMode","id","className","placeholder","readOnly","disabled"];n.Z=function(e){var n=e.form,r=e.name,s=e.rules,u=e.label,c=e.stringMode,p=e.id,f=e.className,m=e.placeholder,x=e.readOnly,h=e.disabled,v=(0,a.Z)(e,d),g=n||i.Z;return(0,o.jsx)(g.Item,(0,t.Z)((0,t.Z)({className:f,name:r,rules:s,label:u,id:p},v),{},{children:(0,o.jsx)(l.Z,{stringMode:null!==c&&void 0!==c&&c,formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},placeholder:m,className:"ltr-elm placeholder-r w-100 ".concat(f),controls:!1,readOnly:x,disabled:h})}))}},5097:function(e,n,r){var t=r(1413),a=r(9439),i=r(8993),l=r(6106),o=r(914),d=r(2964),s=r(177),u=r(6388),c=r(7309),p=r(5486),f=r(543),m=r(2791),x=r(2020),h=r(184);n.Z=function(e){var n,r,v=(0,x.$)().t,g=i.Z.useForm(),j=(0,a.Z)(g,1)[0],y=(0,m.useState)(0),Z=(0,a.Z)(y,2),w=Z[0],C=Z[1],b=(0,m.useState)([]),N=(0,a.Z)(b,2),k=N[0],O=N[1],I=(0,m.useMemo)((function(){return window.outerWidth<p.Z.breakpoints.xl}),[]),P=(0,f.Z)({onSuccess:function(n){var r;null===(r=e.onSuccess)||void 0===r||r.call(e,n,!1),C((function(e){return e+1}))}}),M=(0,a.Z)(P,3),U=M[0],T=M[1],S=M[2],A=(0,f.Z)({autoCallUrl:e.data?e.findUrl(e.data.id):void 0,onSuccess:function(e){var n=e;n&&j.setFieldsValue(n)}}),F=(0,a.Z)(A,2),L=(F[0],F[1]),D=function(){C((function(e){return e-1}))},R=function(e){e.stopPropagation(),e.preventDefault(),C((function(e){return e+1})),O([]),document.getElementsByClassName("ant-modal-wrap")[0].scrollTop=0};return(0,h.jsx)(i.Z,{id:e.frmName,form:j,layout:"vertical",initialValues:null!==(n=e.data)&&void 0!==n?n:e.initialValues,onFinish:function(n){var r=n;e.data?U.put(e.updateUrl,r):U.post(e.addUrl,r)},onFinishFailed:function(e){O(e.errorFields.map((function(e){return'"'.concat(v(e.name[e.name.length-1].replace("Id","")),'" ').concat(e.errors[0])})))},autoComplete:"off",disabled:L,children:(0,h.jsxs)(l.Z,{gutter:[0,20],children:[L&&(0,h.jsx)(o.Z,{xs:24,sm:24,children:(0,h.jsx)(d.Z,{type:"info",message:"".concat(v("loading"),"...")})}),e.data&&(0,h.jsx)(h.Fragment,{children:null===(r=e.hiddenInputs)||void 0===r?void 0:r.map((function(e){return(0,h.jsx)(i.Z.Item,{noStyle:!0,name:e,children:(0,h.jsx)(s.Z,{type:"hidden"})},e)}))}),!I&&(0,h.jsx)(o.Z,{xs:24,sm:24,children:(0,h.jsx)(u.Z,{responsive:!1,size:"small",current:w,items:e.steps.map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{id:"".concat(e.id,"-step")})}))})}),!!k.length&&(0,h.jsx)(o.Z,{xs:24,sm:24,children:(0,h.jsx)(d.Z,{type:"error",message:k.map((function(e,n){return(0,h.jsx)("p",{children:e},n)}))})}),(0,h.jsx)(o.Z,{xs:24,sm:24,children:e.steps.map((function(n,r){return n.destroyOnHide&&w!==r?null:(0,h.jsx)("div",{className:"step-content",id:n.id,style:{display:w===r?"block":"none",position:"relative"},children:(0,h.jsx)(l.Z,{gutter:10,children:(0,h.jsx)(n.content,{data:null!==S&&void 0!==S?S:e.data,entryFrm:j,readOnly:e.readOnly,initialValues:e.initialValues})})},n.id)}))}),(0,h.jsx)(o.Z,{xs:24,sm:24,children:(0,h.jsx)("div",{className:"actions",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:function(){switch(w){case e.steps.length-1:return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.Z,{loading:!!e.data&&L,onClick:D,children:v("prev")}),e.readOnly?(0,h.jsx)(c.Z,{loading:!!e.data&&L,onClick:D,children:v("prev")}):(0,h.jsx)("span",{}),I&&(0,h.jsxs)("span",{children:[w+1,"/",e.steps.length]}),(0,h.jsx)(c.Z,{htmlType:"button",type:"primary",danger:!0,onClick:e.onCancel,children:v("close")})]});case e.steps.length-2:return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.Z,{loading:!!e.data&&L,onClick:D,children:v("prev")}),I&&(0,h.jsxs)("span",{children:[w+1,"/",e.steps.length]}),(0,h.jsx)(c.Z,{htmlType:e.readOnly?"button":"submit",type:"primary",disabled:L||T,loading:T,onClick:e.readOnly?R:void 0,children:v(e.readOnly?"next":"submit")})]});default:return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.Z,{disabled:0===w,loading:!!e.data&&L,onClick:D,children:v("prev")}),I&&(0,h.jsxs)("span",{children:[w+1,"/",e.steps.length]}),(0,h.jsx)(c.Z,{htmlType:"button",type:"primary",onClick:R,disabled:L,children:v("next")})]})}}()})})]})},e.frmName)}},1711:function(e,n,r){r.d(n,{Z:function(){return C}});var t=r(1413),a=r(9439),i=r(6106),l=r(914),o=r(7128),d=r(4692),s=r(4525),u=r(9530),c=r(543),p=r(8467),f=r(2838),m=r(2791),x=r(2020),h=r(184),v=function(){var e=(0,x.$)().t;return(0,m.useMemo)((function(){return[{title:"".concat(e("fullName")," ").concat(e("permitOwner")),dataIndex:"fullName",key:"fullName",fixed:"left",render:function(e,n,r){var t,a;return(0,h.jsx)("span",{children:"".concat(null===n||void 0===n||null===(t=n.waterUserProfile)||void 0===t?void 0:t.firstName," ").concat(null===(a=n.waterUserProfile)||void 0===a?void 0:a.lastName)})}},{title:"".concat(e("nationalCode")," ").concat(e("permitOwner")),dataIndex:"nationalCode",key:"nationalCode",render:function(e,n,r){var t;return(0,h.jsx)("span",{children:null===n||void 0===n||null===(t=n.waterUserProfile)||void 0===t?void 0:t.nationalCode})}},{title:"".concat(e("postalCode")," ").concat(e("permitOwner")),dataIndex:"postalCode",key:"postalCode",render:function(e,n,r){var t;return(0,h.jsx)("span",{children:null===n||void 0===n||null===(t=n.waterUserProfile)||void 0===t?void 0:t.postalCode})}},{title:"".concat(e("phoneNumber")," ").concat(e("permitOwner")),dataIndex:"phoneNumber",key:"phoneNumber",render:function(e,n,r){var t;return(0,h.jsx)("span",{children:null===n||void 0===n||null===(t=n.waterUserProfile)||void 0===t?void 0:t.phoneNumber})}},{title:e("refillType"),dataIndex:"pondRefillType",key:"pondRefillType",render:function(e,n,r){return(0,h.jsx)("span",{children:p.Z.getEnumDescripion(f.H5,n.pondRefillType)})}},{title:e("dedicateType"),dataIndex:"pondDedicateType",key:"pondDedicateType",render:function(e,n,r){return(0,h.jsx)("span",{children:p.Z.getEnumDescripion(f.H5,n.pondDedicateType)})}}]}),[])},g=r(6129),j=r(7777),y=function(){var e=(0,x.$)().t;return(0,m.useMemo)((function(){return[{title:e("springName"),dataIndex:"springName",key:"springName"},{title:e("springType"),dataIndex:"springType",key:"springType",render:function(e,n,r){return(0,h.jsx)("span",{children:p.Z.getEnumDescripion(j.Y,n.springType)})}},{title:"".concat(e("fullName")," ").concat(e("permitOwner")),dataIndex:"fullName",key:"fullName",fixed:"left",render:function(e,n,r){var t,a;return(0,h.jsx)("span",{children:"".concat(null===(t=n.waterUserProfile)||void 0===t?void 0:t.firstName," ").concat(null===(a=n.waterUserProfile)||void 0===a?void 0:a.lastName)})}},{title:"".concat(e("nationalCode")," ").concat(e("permitOwner")),dataIndex:"nationalCode",key:"nationalCode",render:function(e,n,r){var t;return(0,h.jsx)("span",{children:null===(t=n.waterUserProfile)||void 0===t?void 0:t.nationalCode})}},{title:"".concat(e("postalCode")," ").concat(e("permitOwner")),dataIndex:"postalCode",key:"postalCode",render:function(e,n,r){var t;return(0,h.jsx)("span",{children:null===(t=n.waterUserProfile)||void 0===t?void 0:t.postalCode})}},{title:"".concat(e("phoneNumber")," ").concat(e("permitOwner")),dataIndex:"phoneNumber",key:"phoneNumber",render:function(e,n,r){var t;return(0,h.jsx)("span",{children:null===(t=n.waterUserProfile)||void 0===t?void 0:t.phoneNumber})}},{title:e("totalLandArea"),dataIndex:"totalLandArea",key:"totalLandArea",render:function(e){return(0,h.jsx)(g.Z,{value:e})}},{title:e("areaOfAgriculturalLands"),dataIndex:"areaOfAgriculturalLands",key:"areaOfAgriculturalLands",render:function(e){return(0,h.jsx)(g.Z,{value:e})}}]}),[])},Z=r(9975),w=r(1119),C=function(e){var n=e.data,r=(0,c.Z)({autoCallUrl:u.Z.waterPermit.similarRecords((0,t.Z)({id:n.id},n.waterUserProfile))}),p=(0,a.Z)(r,3),f=(p[0],p[1]),m=p[2],g=(0,x.$)().t,j=(0,Z.Z)(),C=(0,w.Z)(),b=y(),N=v();return(0,h.jsxs)(i.Z,{className:"w-100",children:[(0,h.jsx)(l.Z,{xs:24,sm:24,children:(0,h.jsx)(o.Z,{orientation:"left",children:g("similarRecords")})}),(0,h.jsx)(l.Z,{xs:24,sm:24,children:f?(0,h.jsxs)("div",{className:"center w-100",children:[(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)(d.Z,{})]}):Object.keys(null!==m&&void 0!==m?m:{}).map((function(e){var n,r=[],t="";switch(e){case"surfaceWaterViewModel":r=j,t=g("surcafeWaterPermits");break;case"wellViewModel":r=C,t=g("wellWaterPermits");break;case"pondViewModel":r=N,t=g("pondWaterPermits");break;case"springViewModel":r=b,t=g("springWaterPermits")}var a=null!==(n=null===m||void 0===m?void 0:m[e])&&void 0!==n?n:[];return a.length?(0,h.jsx)("div",{className:"w-100",style:{maxWidth:"100%",overflowX:"auto"},children:(0,h.jsx)(s.Z,{style:{width:"100%"},pagination:!1,dataSource:a,columns:[{title:t,children:r}]},e)}):null}))})]})}},9975:function(e,n,r){var t=r(6129),a=r(2791),i=r(2020),l=r(184);n.Z=function(){var e=(0,i.$)().t;return(0,a.useMemo)((function(){return[{title:"".concat(e("fullName")," ").concat(e("permitOwner")),dataIndex:"fullName",key:"fullName",fixed:"left",render:function(e,n,r){return(0,l.jsx)("span",{children:"".concat(n.waterUserProfile.firstName," ").concat(n.waterUserProfile.lastName)})}},{title:"".concat(e("nationalCode")," ").concat(e("permitOwner")),dataIndex:"nationalCode",key:"nationalCode",render:function(e,n,r){return(0,l.jsx)("span",{children:n.waterUserProfile.nationalCode})}},{title:"".concat(e("postalCode")," ").concat(e("permitOwner")),dataIndex:"postalCode",key:"postalCode",render:function(e,n,r){return(0,l.jsx)("span",{children:n.waterUserProfile.postalCode})}},{title:"".concat(e("phoneNumber")," ").concat(e("permitOwner")),dataIndex:"phoneNumber",key:"phoneNumber",render:function(e,n,r){return(0,l.jsx)("span",{children:n.waterUserProfile.phoneNumber})}},{title:e("totalLandArea"),dataIndex:"totalLandArea",key:"totalLandArea",render:function(e){return(0,l.jsx)(t.Z,{value:e})}},{title:e("areaOfAgriculturalLands"),dataIndex:"areaOfAgriculturalLands",key:"areaOfAgriculturalLands",render:function(e){return(0,l.jsx)(t.Z,{value:e})}}]}),[])}},1119:function(e,n,r){var t=r(6129),a=r(2791),i=r(2020),l=r(184);n.Z=function(){var e=(0,i.$)().t;return(0,a.useMemo)((function(){return[{title:"".concat(e("fullName")," ").concat(e("permitOwner")),dataIndex:"fullName",key:"fullName",fixed:"left",render:function(e,n,r){return(0,l.jsx)("span",{children:"".concat(n.waterUserProfile.firstName," ").concat(n.waterUserProfile.lastName)})}},{title:"".concat(e("nationalCode")," ").concat(e("permitOwner")),dataIndex:"nationalCode",key:"nationalCode",render:function(e,n,r){return(0,l.jsx)("span",{children:n.waterUserProfile.nationalCode})}},{title:"".concat(e("postalCode")," ").concat(e("permitOwner")),dataIndex:"postalCode",key:"postalCode",render:function(e,n,r){return(0,l.jsx)("span",{children:n.waterUserProfile.postalCode})}},{title:"".concat(e("phoneNumber")," ").concat(e("permitOwner")),dataIndex:"phoneNumber",key:"phoneNumber",render:function(e,n,r){return(0,l.jsx)("span",{children:n.waterUserProfile.phoneNumber})}},{title:e("totalLandArea"),dataIndex:"totalArea",key:"totalArea",render:function(e){return(0,l.jsx)(t.Z,{value:e})}},{title:e("areaOfAgriculturalLands"),dataIndex:"areaOfDrinkingLands",key:"areaOfDrinkingLands",render:function(e){return(0,l.jsx)(t.Z,{value:e})}}]}),[])}},4489:function(e,n,r){var t,a;r.d(n,{I:function(){return t},z:function(){return a}}),function(e){e.SettingManager="SettingManager",e.UserManager="UserManager",e.RoleManager="RoleManager",e.OrganizationLevelManager="OrganizationLevelManager",e.PondPermitManager="PondPermitManager",e.SurfaceWaterPermitManager="SurfaceWaterPermitManager",e.SpringPermitManager="SpringPermitManager",e.WellPermitManager="WellPermitManager",e.DeveloperSupport="DeveloperSupport"}(t||(t={})),function(e){e.farvardin="0",e.ordibehesht="1",e.khordad="2",e.tir="3",e.mordad="4",e.shahrivar="5",e.mehr="6",e.aban="7",e.azar="8",e.dey="9",e.bahman="10",e.esfand="11"}(a||(a={}))},2838:function(e,n,r){var t,a,i;r.d(n,{Gu:function(){return a},H5:function(){return t},Il:function(){return i}}),function(e){e[e.gravityEngine=0]="gravityEngine",e[e.pumpingEngine=1]="pumpingEngine"}(t||(t={})),function(e){e[e.agriculture=0]="agriculture",e[e.other=1]="other"}(a||(a={})),function(e){e[e.regulatedFlow=0]="regulatedFlow",e[e.naturalFlow=1]="naturalFlow",e[e.combinationOfRegulatedAndNaturalFlow=2]="combinationOfRegulatedAndNaturalFlow"}(i||(i={}))},7777:function(e,n,r){var t,a;r.d(n,{C:function(){return t},Y:function(){return a}}),function(e){e[e.agriculture=0]="agriculture",e[e.drinking=1]="drinking",e[e.industry=2]="industry",e[e.other=3]="other"}(t||(t={})),function(e){e[e.hardBuild=0]="hardBuild",e[e.alluvium=1]="alluvium"}(a||(a={}))}}]);
//# sourceMappingURL=338.9019174b.chunk.js.map