{"version":3,"file":"static/js/302.21ee93b0.chunk.js","mappings":"uNA4CA,UAlCe,SAAH,GAAuD,IAAD,IAAhDA,UAAAA,OAAS,OAAO,EACxBC,GAAMC,EAAAA,EAAAA,KAAND,EAER,IADYE,EAAAA,EAAAA,OAC2BC,EAAAA,EAAAA,YAAWC,EAAAA,IAA1CC,EAAQ,EAARA,SAASC,EAAO,EAAPA,QAAQC,EAAS,EAATA,UAwBzB,OAjBAC,EAAAA,EAAAA,YAAU,WACR,IAAKT,EAAW,CACd,IAAMU,EAAOC,EAAAA,EAAAA,cAAoBC,EAAAA,EAAAA,MAC3BC,EAASF,EAAAA,EAAAA,cAAoBC,EAAAA,EAAAA,OAC7BE,EAAQH,EAAAA,EAAAA,cAAoBC,EAAAA,EAAAA,OAE9BF,GAAQG,GAAUC,GACpBN,EAAUK,GACVP,EAASQ,GACTP,EAAQG,KAGRC,EAAAA,EAAAA,eACAI,OAAOC,KAAKC,EAAAA,EAAAA,OAEhB,CACF,GAAG,KAED,iBAAKC,GAAG,SAAQ,WACd,wBAAKjB,EAAE,cACP,SAAC,IAAI,MAGX,C","sources":["components/Splash.tsx"],"sourcesContent":["import { Spin } from \"antd\";\r\nimport { navigateTo } from \"config/routes\";\r\nimport storageKeys from \"config/storageKeys\";\r\nimport utils from \"config/utils\";\r\nimport SharedContext from \"context/SharedContext\";\r\nimport { MenuTypes, TUser } from \"models\";\r\nimport { useContext, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Splash = ({ doNothing = true }: { doNothing?: boolean }) => {\r\n  const { t } = useTranslation();\r\n  const nav = useNavigate();\r\n  const { setToken,setUser,setMenues } = useContext(SharedContext);\r\n  // const [refreshUser] = useApi<TUser>({\r\n  //   onFailed: () => {\r\n  //     util.clearStorage();\r\n  //     nav(navigateTo.login);\r\n  //   }\r\n  // });\r\n  useEffect(() => {\r\n    if (!doNothing) {\r\n      const user = utils.getStoredData(storageKeys.user);\r\n      const menues = utils.getStoredData(storageKeys.menus);\r\n      const token = utils.getStoredData(storageKeys.token);\r\n      //const refToken = utils.getStoredData(storageKeys.refreshToken);\r\n      if (user && menues && token){\r\n        setMenues(menues as MenuTypes[]);\r\n        setToken(token as string);\r\n        setUser(user as TUser);\r\n      } \r\n      else {\r\n        utils.clearStorage();\r\n        window.open(navigateTo.login);\r\n      }\r\n    }\r\n  }, []);\r\n  return (\r\n    <div id=\"splash\">\r\n      <h1>{t(\"loading\")}</h1>\r\n      <Spin />\r\n    </div>\r\n  );\r\n};\r\nexport default Splash;\r\n"],"names":["doNothing","t","useTranslation","useNavigate","useContext","SharedContext","setToken","setUser","setMenues","useEffect","user","utils","storageKeys","menues","token","window","open","navigateTo","id"],"sourceRoot":""}